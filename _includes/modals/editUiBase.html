{% assign id = "editUiBase" %}
{% assign title = "Rust UI element" %}
{% capture content %}

<div class="form-row">
    <div class="form-group col-md-6">
      <label for="ui-element-name">Name</label>
      <input type="text" class="form-control" id="ui-element-name">
    </div>
    <div class="form-group col-md-6">
      <label for="ui-element-parent">Parent</label>
      <input type="text" class="form-control" id="ui-element-parent">
    </div>
  </div>


<div>Hello, Universe!</div>
<div id="edit-ui-test"></div>

{% endcapture %}
{% include modals/_template.html content=content id=id title=title %}

<script type="module">
    import { UiBasicElement } from '/assets/scripts/uiBasic.js';
    var dialog = $("#{{id}}");

    $(function () {
        dialog.on("show.bs.modal", onShowed);
        $("form", dialog).on("submit", onSaved);
    })

    function onShowed() {
        var el = dialog.data("el");
        
        $("#ui-element-name").val(el.name);
        if(el.parent != UiBasicElement.DefaultParent)
            $("#ui-element-parent").val(el.parent);
        
        $("#edit-ui-test").html(JSON.stringify(el));
    }

    function onSaved() {
        dialog.modal("hide");

        return false;
    }
</script>